<MainScreen>:
    name: 'main'
    FloatLayout:
        size_hint: None, None

	##################
	##### BUTTONS ####
        ##################

        # Quit button
        BetterImageButton:
            font_size: 23
            size_hint: None, None
            size: root.width * 0.02, root.width * 0.02
            x: root.width * 0.965
            y: root.height * 0.94
            color: 0, 0, 0, 1
            on_release: root.quit()

        Label:
            id: quitButton
            text: "X"
            halign: 'center'
            valign: 'center'
            font_size: 30
            bold: False
            x: root.width * 0.9495
            y: root.height * 0.912
            color: 1, 1, 1, 1

        BetterImageButton:
            id: auto
            center_x: root.width * 0.5
            y: root.height * 0.55
            color: root.blue
            size_hint: None,None
            size: 200,200
            on_press: root.auto_button()
            on_release: root.resetColors()

        Label:
            id: autoButton
            text: "Start"
            halign: 'center'
            valign: 'center'
            font_size: 35
            bold: True
            center_x: root.width * 0.5
            y: root.height * 0.595
            color: 0, 0, 0, 1

        # Turn on/off gate
        BetterImageButton:
            id: gate
            center_x: root.width * 0.25
            y: root.height * 0.35
            color: root.yellow
            size_hint: None,None
            size: 200,200
            on_press: root.toggleGate()
            on_release: root.resetColors()

        Label:
            id: gateButton
            text: "Open\nGate"
            halign: 'center'
            valign: 'center'
            font_size: 35
            bold: True
            center_x: root.width * 0.25
            y: root.height * 0.395
            color: 0, 0, 0, 1

        BetterImageButton:
            id: ramp
            center_x: root.width * 0.5
            y: root.height * 0.35
            color: root.yellow
            size_hint: None,None
            size: 200,200
            on_press: root.toggleRamp()
            on_release: root.resetColors()

        Label:
            id: rampButton
            text: "Ramp\nto\nTop"
            halign: 'center'
            valign: 'center'
            font_size: 35
            bold: True
            center_x: root.width * 0.5
            y: root.height * 0.395
            color: 0, 0, 0, 1

        BetterImageButton:
            id: staircase
            center_x: root.width * 0.75
            y: root.height * 0.35
            color: root.yellow
            size_hint: None,None
            size: 200,200
            on_press: root.toggleStaircase()
            on_release: root.resetColors()

        Label:
            id: staircaseButton
            text: "Staircase\nOn"
            halign: 'center'
            valign: 'center'
            font_size: 35
            bold: True
            center_x: root.width * 0.75
            y: root.height * 0.395
            color: 0, 0, 0, 1

	##################
	##### SLIDERS ####
        ##################

        Slider:
            id: rampSpeed
            orientation: 'horizontal'
            min: 10
            max: root.max_ramp_speed
            value: root.max_ramp_speed
            step: 1
            center_x: root.width * 0.6
            y: root.height * 0.15
            size_hint_x: 7
            on_value: root.setRampSpeed(self.value)
            value_track_color: root.blue

        Slider:
            id: staircaseSpeed
            orientation: 'horizontal'
            min: 10
            max: root.max_staircase_speed
            value: root.max_staircase_speed
            step: 1
            center_x: root.width * 0.6
            y: root.height * 0.05
            size_hint_x: 7
            on_value: root.setStaircaseSpeed(self.value)
            value_track_color: root.blue


        ##################
	##### LABELS #####
        ##################

        Label:
            id: title
            text: 'Perpetual Motion Machine'
            font_size: 55
            bold: True
            center_x: root.width * 0.5
            halign: 'center'
            y: root.height * 0.825
            color: 1, 1, 1, 1

        Label:
            id: rampSpeedLabel
            text: 'Ramp Speed: ' + str(int(rampSpeed.value))
            font_size: 40
            bold: True
            center_x: root.width * 0.22
            y: root.height * 0.15
            color: 1, 1, 1, 1

        Label:
            id: staircaseSpeedLabel
            text: 'Staircase Speed: ' + str(int(staircaseSpeed.value))
            font_size: 40
            bold: True
            center_x: root.width * 0.20
            y: root.height * 0.05
            color: 1, 1, 1, 1

<Slider>:
    cursor_image: "NewSliderKnob.png"
    value_track: True
    value_track_color: 0.9, 0.9, 0.9, 1
    canvas:
        Color:
            rgba: 0, 0, 0, 1
        #BorderImage:
            #border: (0, 18, 0, 18) if self.orientation == 'horizontal' else (18, 0, 18, 0)
            #pos: (self.x + self.padding, self.center_y - sp(18)) if self.orientation == 'horizontal' else (self.center_x - 18, self.y + self.padding)
            #size: (max(self.value_pos[0] - self.padding * 2 - sp(16), 0), sp(36)) if self.orientation == 'horizontal' else (sp(36), max(self.value_pos[1] - self.padding * 2 - sp(16), 0))
            #source: 'atlas://data/images/defaulttheme/slider{}_background{}'.format(self.orientation[0], '_disabled' if self.disabled else '')


